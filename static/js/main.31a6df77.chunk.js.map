{"version":3,"sources":["components/Button/index.tsx","components/Button/Button.tsx","components/Table/index.tsx","components/Table/Table.tsx","components/Card/index.tsx","components/Card/Card.tsx","components/Input/index.tsx","components/Input/Input.tsx","containers/Form/validation.ts","containers/Form/Form.tsx","containers/Form/index.tsx","icons/cross.svg","App.tsx","serviceWorker.ts","index.tsx"],"names":["Button","title","onClick","isDisabled","isPrimary","isBlue","isRed","isLink","className","role","tabIndex","cn","Table","data","columns","map","idx","label","key","item","rowIdx","cellIdx","dataPath","renderer","length","Card","children","Input","onChange","errorMessage","value","rest","validatePerson","person","errors","name","surname","age","city","defaultValues","id","Form","isEdit","handleSave","onSubmit","initialValues","useState","setPerson","setErrors","handleOnChange","field","target","prev","trim","useEffect","onFocus","placeholder","validationErrors","isValid","Object","keys","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","d","transform","_ref","svgRef","props","width","height","viewBox","ref","ForwardRef","forwardRef","clickSource$","fromEvent","document","pipe","event","composedPath","keySource$","window","keyCode","initialEditState","tableId","userId","undefined","App","setEditState","editEntity","setEditEntity","userTables","setUserTables","formRef","useRef","tablesRef","subKey","subClick","val","current","includes","eventSub","merge","subscribe","isResetSignal","unsubscribe","renderButtonsColumn","tableIdx","find","_id","userIdx","newTable","filter","user","slice","handleRowDelete","handleCopyTable","values","lastId","tableData","isParentTable","handleTableDelete","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.31a6df77.chunk.js","sourcesContent":["import Button from './Button';\n\nexport default Button;\n","import React, { FC } from 'react';\n// utils\nimport cn from 'classnames';\n// styles\nimport './Button.scss';\n\ninterface ButtonProps {\n  onClick: () => void;\n  title: string;\n  isPrimary?: boolean,\n  isBlue?: boolean,\n  isRed?: boolean,\n  isDisabled?: boolean,\n  isLink?: boolean,\n  className?: string;\n}\n\nconst Button: FC<ButtonProps> = ({\n  title,\n  onClick,\n  isDisabled,\n  isPrimary,\n  isBlue,\n  isRed,\n  isLink,\n  className,\n}) => (\n  <div\n    role=\"button\"\n    tabIndex={0}\n    onClick={() => !isDisabled && onClick()}\n    className={cn(\n      'button',\n      className,\n      isPrimary && 'button_primary',\n      isBlue && 'button_blue',\n      isRed && 'button_red',\n      isLink && 'button_link',\n      isDisabled && 'button_disabled',\n    )}\n  >\n    {title}\n  </div>\n);\n\nexport default Button;\n","import Table from './Table';\n\nexport default Table;\n","import React from 'react';\n// types\nimport { TableProps } from './Table.types';\n// styles\nimport './Table.scss';\n\nconst Table = <T extends object>({\n  data,\n  columns,\n}: TableProps<T>) => (\n  <div className=\"table-container\">\n    <div className=\"table\">\n      <div className=\"table__header\">\n        {columns.map(({ label }, idx) => (\n          <div className=\"table__cell\" key={`table-header-${idx}`}>\n            {label}\n          </div>\n        ))}\n      </div>\n      <div className=\"table__body\">\n        {data.map((item, rowIdx) => (\n          <div key={`table-row-${rowIdx}`} className=\"table__row\">\n            {columns.map(({ dataPath, renderer }, cellIdx) => (\n              <div key={`cell-${cellIdx}`} className=\"table__cell\">\n                {dataPath && item[dataPath as keyof object]}\n                {renderer && renderer(item)}\n              </div>\n            ))}\n          </div>\n        ))}\n        {!data.length && (\n          <div className=\"table__placeholder\">\n            No data to display :(\n          </div>\n        )}\n      </div>\n    </div>\n  </div>\n  );\n\nexport default Table;\n","import Card from './Card';\n\nexport default Card;\n","import React, { FC, ReactNode } from 'react';\n// utils\nimport cn from 'classnames';\n// styles\nimport './Card.scss';\n\nexport interface CardProps {\n  className?: string;\n  children?: ReactNode | string;\n}\n\nconst Card: FC<CardProps> = ({\n  children,\n  className,\n}) => (\n  <div className={cn('card', className)}>\n    {children}\n  </div>\n);\n\nexport default Card;\n","import Input from './Input';\n\nexport default Input;\n","import React, { FC, InputHTMLAttributes } from 'react';\n// utils\nimport cn from 'classnames';\n// styles\nimport './Input.scss';\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement>{\n  errorMessage?: string;\n}\n\nconst Input: FC<InputProps> = ({\n  onChange,\n  errorMessage,\n  className,\n  value,\n  ...rest\n}) => (\n  <div\n    className={cn(\n      'input',\n      errorMessage && 'input_with-error',\n      className,\n    )}\n  >\n    <input className=\"input__field-input\" onChange={onChange} value={value} {...rest} />\n    {errorMessage && (\n      <span className=\"input__error-message\">\n        {errorMessage}\n      </span>\n    )}\n  </div>\n);\n\nexport default Input;\n","import { Person } from \"components/Table/Table.types\";\n\nimport { ErrorsType } from './Form';\n\nexport const validatePerson = (person: Person) => {\n  // eslint-disable-next-line prefer-const\n  let errors: ErrorsType = {};\n\n  if (!person.name) {\n    errors.name = 'Cant be blank';\n  }\n  if (!person.surname) {\n    errors.surname = 'Cant be blank';\n  }\n  if (!person.age) {\n    errors.age = 'Cant be blank';\n  }\n  if (!person.city) {\n    errors.city = 'Cant be blank';\n  }\n  return errors;\n};\n\nexport default { validatePerson };\n","import React, {\n  FC, useState, useEffect, ChangeEvent,\n} from 'react';\n// utils\nimport cn from 'classnames';\n// components\nimport Card from 'components/Card';\nimport Input from 'components/Input';\nimport Button from 'components/Button';\n// types\nimport { Person } from 'components/Table/Table.types';\n// validation\nimport { validatePerson } from './validation';\n// styles\nimport './Form.scss';\n\nexport interface FormProps {\n  className?: string;\n  isEdit?: boolean;\n  onSubmit?: any\n  initialValues?: Person\n}\n\nexport type ErrorsType = {\n  [index: string]: string\n}\n\nexport const defaultValues = {\n  id: '',\n  name: '',\n  surname: '',\n  age: '',\n  city: '',\n};\n\nconst Form: FC<FormProps> = ({\n  className,\n  isEdit,\n  onSubmit: handleSave,\n  initialValues = defaultValues,\n}) => {\n  const [person, setPerson] = useState(defaultValues);\n  const [errors, setErrors] = useState<ErrorsType>({});\n  const {\n    name, surname, age, city,\n  } = person;\n  const handleOnChange = (field: string) => ({ target: { value } }\n    : ChangeEvent<HTMLInputElement>) => setPerson(\n    (prev) => ({ ...prev, [field]: value.trim() }),\n  );\n\n  const handleSubmit = () => {\n    const validationErrors = validatePerson(person);\n    const isValid = Object.keys(validationErrors).length === 0;\n    setErrors(validationErrors);\n    if (isValid) {\n      handleSave(person);\n      setPerson(defaultValues);\n    }\n  };\n\n  useEffect(() => {\n    setErrors({});\n    setPerson(initialValues);\n  }, [initialValues]);\n\n  return (\n    <Card className={cn('form-card', className)}>\n      <Input\n        className=\"form-card__input\"\n        value={name}\n        errorMessage={errors?.name}\n        onFocus={() => setErrors({})}\n        onChange={handleOnChange('name')}\n        placeholder=\"Name\"\n\n      />\n      <Input\n        className=\"form-card__input\"\n        value={surname}\n        onChange={handleOnChange('surname')}\n        placeholder=\"Surname\"\n        onFocus={() => setErrors({})}\n        errorMessage={errors?.surname}\n      />\n      <Input\n        className=\"form-card__input\"\n        value={age}\n        onChange={handleOnChange('age')}\n        placeholder=\"Age\"\n        onFocus={() => setErrors({})}\n        errorMessage={errors?.age}\n      />\n      <Input\n        className=\"form-card__input\"\n        value={city}\n        onChange={handleOnChange('city')}\n        placeholder=\"City\"\n        onFocus={() => setErrors({})}\n        errorMessage={errors?.city}\n      />\n      <div className=\"form-card__button-wrapper\">\n        <Button className=\"form-card__button\" isPrimary onClick={handleSubmit} title={isEdit ? 'Edit' : 'Add'} />\n      </div>\n    </Card>\n  );\n};\n\nexport default Form;\n","import Form from './Form';\n\nexport default Form;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  id: \"btn_delete.svg_btn_delete.png\",\n  \"data-name\": \"btn_delete.svg, btn_delete.png\",\n  className: \"cls-1\",\n  d: \"M623.246,435.991l3.377-3.378a1.278,1.278,0,0,0,0-1.8l-0.45-.45a1.276,1.276,0,0,0-1.8,0l-3.378,3.378-3.377-3.378a1.278,1.278,0,0,0-1.8,0l-0.451.45a1.278,1.278,0,0,0,0,1.8l3.377,3.377-3.377,3.378a1.278,1.278,0,0,0,0,1.8l0.451,0.45a1.278,1.278,0,0,0,1.8,0l3.377-3.377,3.378,3.377a1.278,1.278,0,0,0,1.8,0l0.45-.45a1.278,1.278,0,0,0,0-1.8Z\",\n  transform: \"translate(-615 -430)\"\n});\n\nvar SvgCross = function SvgCross(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 12,\n    viewBox: \"0 0 12 12\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCross, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cross.4811ac36.svg\";\nexport { ForwardRef as ReactComponent };","import React, {\n  useState, useRef, useEffect,\n} from 'react';\nimport { fromEvent, merge,} from 'rxjs';\nimport { map } from 'rxjs/operators';\n// components\nimport Button from 'components/Button';\nimport Table from 'components/Table';\n// containers\nimport Form from 'containers/Form';\n// types\nimport { ColumnRendererType, Person } from 'components/Table/Table.types';\n// icons\nimport { ReactComponent as CrossIcon } from 'icons/cross.svg';\n// styles\nimport './App.scss';\n\n// TODO: split code/add rx\n// memoize/callbacks things\n\nconst clickSource$ = fromEvent<MouseEvent>(document, 'click').pipe(\n  map(((event) => event.composedPath())),\n);\n\nconst keySource$ = fromEvent<KeyboardEvent>(window, 'keyup').pipe(\n  map((event) => event.keyCode === 27),\n);\n\nconst initialEditState: { tableId: number, userId?: string } = { tableId: 0, userId: undefined };\n\nconst App = () => {\n  const [{ tableId, userId }, setEditState] = useState(initialEditState);\n  const isEdit = userId !== undefined;\n  const [editEntity, setEditEntity] = useState<Person>();\n  const [userTables, setUserTables] = useState<Person[][]>([[]]);\n  const formRef = useRef<HTMLDivElement>(null);\n  const tablesRef = useRef<HTMLDivElement>(null);\n\n  const handleFormReset = () => {\n    setEditState(initialEditState);\n    setEditEntity(undefined);\n  };\n\n  useEffect(() => {\n    const subKey = keySource$;\n    const subClick = clickSource$.pipe(\n      map((val: EventTarget[]) => {\n        const isClickedOutside = formRef.current\n          && tablesRef.current\n          && !val.includes(formRef.current)\n          && !val.includes(tablesRef.current);\n        return isClickedOutside;\n      }),\n    );\n\n    const eventSub = merge(subClick, subKey).subscribe((isResetSignal) => {\n      if (isResetSignal) handleFormReset();\n    });\n    return () => eventSub.unsubscribe();\n  }, []);\n\n  const handleRowDelete = (tableIdx: number, userIdx: string) => {\n    // TODO: Add confirm\n    const newTable = userTables[tableIdx].filter((user) => user.id !== userIdx);\n    setUserTables([\n      ...userTables.slice(0, tableIdx),\n      ...(newTable.length || tableIdx === 0 ? [newTable] : []),\n      ...userTables.slice(tableIdx + 1),\n\n    ]);\n  };\n\n  const renderButtonsColumn = (tableIdx: number): ColumnRendererType<Person> => ({ id }) => {\n    const handleOnEdit = () => {\n      setEditState({ tableId: tableIdx, userId: id });\n      setEditEntity(userTables[tableId]?.find(({ id: _id }) => id === _id));\n    };\n\n    return (\n      <div className=\"button-column\">\n        <Button title=\"Edit\" isLink isBlue onClick={handleOnEdit} />\n        <Button title=\"Delete\" isLink isRed onClick={() => handleRowDelete(tableIdx, id)} />\n      </div>\n    );\n  };\n\n  const columns = (tableIdx: number) => [\n    { label: 'Name', dataPath: 'name' },\n    { label: 'Surname', dataPath: 'surname' },\n    { label: 'Age', dataPath: 'age' },\n    { label: 'City', dataPath: 'city' },\n    { label: '', renderer: renderButtonsColumn(tableIdx) },\n  ];\n\n  const handleResetForm = () => {\n    setEditState(initialEditState);\n  };\n\n  const handleFormSubmit = (values: Person) => {\n    if (isEdit) {\n      setUserTables([\n        ...userTables.slice(0, tableId),\n        [...userTables[tableId].map((user) => (user.id === userId ? values : user))],\n        ...userTables.slice(tableId + 1),\n      ]);\n    } else {\n      const lastId = userTables[0][userTables[0].length - 1]?.id;\n      setUserTables([\n        [...userTables[0], { ...values, id: lastId ? `${+lastId + 1}` : '0' }],\n        ...userTables.slice(1),\n      ]);\n    }\n    handleResetForm();\n  };\n\n  const handleTableDelete = (idx: number) => {\n    setUserTables([\n      ...userTables.slice(0, idx),\n      ...userTables.slice(idx + 1),\n    ]);\n  };\n\n  const handleCopyTable = () => {\n    setUserTables([...userTables, userTables[0]]);\n  };\n\n  const handleClearParentTable = () => {\n    setUserTables([\n      [],\n      ...userTables.slice(1),\n    ]);\n  };\n\n  return (\n    <div className=\"app-container\">\n      <div className=\"app-container__form\" ref={formRef}>\n        <Form\n          onSubmit={handleFormSubmit}\n          isEdit={isEdit}\n          initialValues={editEntity}\n        />\n      </div>\n      <div ref={tablesRef}>\n        {userTables.map((tableData, idx) => {\n          const isParentTable = idx === 0;\n          const handleDelete = () => (!isParentTable\n            ? handleTableDelete(idx) : handleClearParentTable());\n          return (\n            <div key={`table-${idx}`} className=\"table-wrapper\">\n              <div className=\"table-wrapper__buttons\">\n                {isParentTable && (\n                  <Button\n                    className=\"table-wrapper__copy-button\"\n                    title=\"CopyTable\"\n                    onClick={handleCopyTable}\n                    isDisabled={!userTables[0].length}\n                  />\n                )}\n                <CrossIcon className=\"table-wrapper__cross\" onClick={handleDelete} />\n              </div>\n              <Table columns={columns(idx)} data={tableData} />\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.scss';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}