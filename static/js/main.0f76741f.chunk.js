(this["webpackJsonptable-form"]=this["webpackJsonptable-form"]||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),i=a(15),o=a(4),u=a(11),s=a(40),m=a(41),d=a(18),b=a(9),f=a.n(b),v=(a(30),function(e){var t=e.title,a=e.onClick,n=e.isDisabled,c=e.isPrimary,l=e.isBlue,i=e.isRed,o=e.isLink,u=e.className;return r.a.createElement("div",{role:"button",tabIndex:0,onClick:function(){return!n&&a()},className:f()("button",u,c&&"button_primary",l&&"button_blue",i&&"button_red",o&&"button_link",n&&"button_disabled")},t)}),p=(a(31),function(e){var t=e.data,a=e.columns;return r.a.createElement("div",{className:"table-container"},r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"table__header"},a.map((function(e,t){var a=e.label;return r.a.createElement("div",{className:"table__cell",key:"table-header-".concat(t)},a)}))),r.a.createElement("div",{className:"table__body"},t.map((function(e,t){return r.a.createElement("div",{key:"table-row-".concat(t),className:"table__row"},a.map((function(t,a){var n=t.dataPath,c=t.renderer;return r.a.createElement("div",{key:"cell-".concat(a),className:"table__cell"},n&&e[n],c&&c(e))})))})),!t.length&&r.a.createElement("div",{className:"table__placeholder"},"No data to display :("))))}),g=a(16),O=(a(32),function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:f()("card",a)},t)}),_=a(24),h=(a(33),function(e){var t=e.onChange,a=e.errorMessage,n=e.className,c=e.value,l=Object(_.a)(e,["onChange","errorMessage","className","value"]);return r.a.createElement("div",{className:f()("input",a&&"input_with-error",n)},r.a.createElement("input",Object.assign({className:"input__field-input",onChange:t,value:c},l)),a&&r.a.createElement("span",{className:"input__error-message"},a))}),E=function(e){var t={};return e.name||(t.name="Cant be blank"),e.surname||(t.surname="Cant be blank"),e.age||(t.age="Cant be blank"),e.city||(t.city="Cant be blank"),t},j=(a(34),{id:"",name:"",surname:"",age:"",city:""}),N=function(e){var t=e.className,a=e.isEdit,c=e.onSubmit,l=e.initialValues,o=void 0===l?j:l,s=Object(n.useState)(j),m=Object(u.a)(s,2),d=m[0],b=m[1],p=Object(n.useState)({}),_=Object(u.a)(p,2),N=_[0],y=_[1],k=d.name,w=d.surname,C=d.age,P=d.city,S=function(e){return function(t){var a=t.target.value;return b((function(t){return Object(i.a)({},t,Object(g.a)({},e,a.trim()))}))}};return Object(n.useEffect)((function(){y({}),b(o)}),[o]),r.a.createElement(O,{className:f()("form-card",t)},r.a.createElement(h,{className:"form-card__input",value:k,errorMessage:null===N||void 0===N?void 0:N.name,onFocus:function(){return y({})},onChange:S("name"),placeholder:"Name"}),r.a.createElement(h,{className:"form-card__input",value:w,onChange:S("surname"),placeholder:"Surname",onFocus:function(){return y({})},errorMessage:null===N||void 0===N?void 0:N.surname}),r.a.createElement(h,{className:"form-card__input",value:C,onChange:S("age"),placeholder:"Age",onFocus:function(){return y({})},errorMessage:null===N||void 0===N?void 0:N.age}),r.a.createElement(h,{className:"form-card__input",value:P,onChange:S("city"),placeholder:"City",onFocus:function(){return y({})},errorMessage:null===N||void 0===N?void 0:N.city}),r.a.createElement("div",{className:"form-card__button-wrapper"},r.a.createElement(v,{className:"form-card__button",isPrimary:!0,onClick:function(){var e=E(d),t=0===Object.keys(e).length;y(e),t&&(c(d),b(j))},title:a?"Edit":"Add"})))};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var w=r.a.createElement("path",{fill:"currentColor",id:"btn_delete.svg_btn_delete.png","data-name":"btn_delete.svg, btn_delete.png",className:"cls-1",d:"M623.246,435.991l3.377-3.378a1.278,1.278,0,0,0,0-1.8l-0.45-.45a1.276,1.276,0,0,0-1.8,0l-3.378,3.378-3.377-3.378a1.278,1.278,0,0,0-1.8,0l-0.451.45a1.278,1.278,0,0,0,0,1.8l3.377,3.377-3.377,3.378a1.278,1.278,0,0,0,0,1.8l0.451,0.45a1.278,1.278,0,0,0,1.8,0l3.377-3.377,3.378,3.377a1.278,1.278,0,0,0,1.8,0l0.45-.45a1.278,1.278,0,0,0,0-1.8Z",transform:"translate(-615 -430)"}),C=function(e){var t=e.svgRef,a=e.title,n=k(e,["svgRef","title"]);return r.a.createElement("svg",y({width:12,height:12,viewBox:"0 0 12 12",ref:t},n),a?r.a.createElement("title",null,a):null,w)},P=r.a.forwardRef((function(e,t){return r.a.createElement(C,y({svgRef:t},e))})),S=(a.p,a(35),Object(s.a)(document,"click").pipe(Object(d.a)((function(e){return e.composedPath()})))),I=Object(s.a)(window,"keyup").pipe(Object(d.a)((function(e){return 27===e.keyCode}))),R={tableId:0,userId:void 0},M=function(){var e=Object(n.useState)(R),t=Object(u.a)(e,2),a=t[0],c=a.tableId,l=a.userId,s=t[1],b=void 0!==l,f=Object(n.useState)(),g=Object(u.a)(f,2),O=g[0],_=g[1],h=Object(n.useState)([[]]),E=Object(u.a)(h,2),j=E[0],y=E[1],k=Object(n.useRef)(null),w=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=I,t=S.pipe(Object(d.a)((function(e){return k.current&&w.current&&!e.includes(k.current)&&!e.includes(w.current)}))),a=Object(m.a)(t,e).subscribe((function(e){e&&(s(R),_(void 0))}));return function(){return a.unsubscribe()}}),[]);var C=function(e){return function(t){var a=t.id;return r.a.createElement("div",{className:"button-column"},r.a.createElement(v,{title:"Edit",isLink:!0,isBlue:!0,onClick:function(){var t;s({tableId:e,userId:a}),_(null===(t=j[c])||void 0===t?void 0:t.find((function(e){var t=e.id;return a===t})))}}),r.a.createElement(v,{title:"Delete",isLink:!0,isRed:!0,onClick:function(){return function(e,t){var a=j[e].filter((function(e){return e.id!==t}));y([].concat(Object(o.a)(j.slice(0,e)),Object(o.a)(a.length||0===e?[a]:[]),Object(o.a)(j.slice(e+1))))}(e,a)}}))}},M=function(){y([].concat(Object(o.a)(j),[j[0]]))};return r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"app-container__form",ref:k},r.a.createElement(N,{onSubmit:function(e){if(b)y([].concat(Object(o.a)(j.slice(0,c)),[Object(o.a)(j[c].map((function(t){return t.id===l?e:t})))],Object(o.a)(j.slice(c+1))));else{var t,a=null===(t=j[0][j[0].length-1])||void 0===t?void 0:t.id;y([[].concat(Object(o.a)(j[0]),[Object(i.a)({},e,{id:a?"".concat(+a+1):"0"})])].concat(Object(o.a)(j.slice(1))))}s(R)},isEdit:b,initialValues:O})),r.a.createElement("div",{ref:w},j.map((function(e,t){var a,n=0===t;return r.a.createElement("div",{key:"table-".concat(t),className:"table-wrapper"},r.a.createElement("div",{className:"table-wrapper__buttons"},n&&r.a.createElement(v,{className:"table-wrapper__copy-button",title:"CopyTable",onClick:M,isDisabled:!j[0].length}),r.a.createElement(P,{className:"table-wrapper__cross",onClick:function(){return n?void y([[]].concat(Object(o.a)(j.slice(1)))):function(e){y([].concat(Object(o.a)(j.slice(0,e)),Object(o.a)(j.slice(e+1))))}(t)}})),r.a.createElement(p,{columns:(a=t,[{label:"Name",dataPath:"name"},{label:"Surname",dataPath:"surname"},{label:"Age",dataPath:"age"},{label:"City",dataPath:"city"},{label:"",renderer:C(a)}]),data:e}))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(36);l.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.0f76741f.chunk.js.map